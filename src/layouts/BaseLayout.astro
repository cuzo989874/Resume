---
import '../styles/style.css';
import LanguageSwitcher from '../components/LanguageSwitcher.astro';
import DarkModeSwitcher from '../components/DarkModeSwitcher.astro';

interface Props {
  title: string;
  description: string;
  keywords: string;
  ogTitle: string;
  ogDescription: string;
  twitterDescription: string;
  lang: string;
  canonical: string;
  structuredData: object;
}

const {
  title,
  description,
  keywords,
  ogTitle,
  ogDescription,
  twitterDescription,
  lang,
  canonical,
  structuredData
} = Astro.props;
---

<!DOCTYPE html>
<html lang={lang}>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <meta name="description" content={description}>
  <meta name="keywords" content={keywords}>
  <meta name="author" content="繆勝翔 (Cuzo)">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href={canonical}>
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="profile">
  <meta property="og:title" content={ogTitle}>
  <meta property="og:description" content={ogDescription}>
  <meta property="og:image" content="https://your-domain.com/assets/avatar.png">
  <meta property="og:url" content={canonical}>
  <meta property="og:locale" content={lang === 'zh-TW' ? 'zh_TW' : 'en_US'}>
  <meta property="profile:first_name" content={lang === 'zh-TW' ? '勝翔' : 'Sheng-Hsiang'}>
  <meta property="profile:last_name" content={lang === 'zh-TW' ? '繆' : 'Miao'}>
  <meta property="profile:username" content="Cuzo">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content={ogTitle}>
  <meta name="twitter:description" content={twitterDescription}>
  <meta name="twitter:image" content="https://your-domain.com/assets/avatar.png">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap"
    rel="stylesheet">
  
  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
</head>
<body>
  <LanguageSwitcher currentLang={lang as 'zh-TW' | 'en'} />
  <DarkModeSwitcher />
  <slot />
</body>
</html>
